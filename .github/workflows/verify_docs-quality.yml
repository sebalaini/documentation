name: Verify Docs Quality

on:
  pull_request:
    types:
      - opened
      - synchronize
    paths:
      - 'docs/**'
  workflow_dispatch:

jobs:
  check-all-files:
    runs-on: ubuntu-latest

    steps:
      - name: checkout
        uses: actions/checkout@v4

      - name: documentation quality check
        uses: errata-ai/vale-action@38bf078c328061f59879b347ca344a718a736018
        with:
          reporter: github-pr-check
          fail_on_error: true
          files: docs
          version: latest
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}